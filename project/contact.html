<!DOCTYPE html>
<html lang="ko">
<head>
	<meta charset="utf-8">
	<title>HTML + CSS 실습 5</title>
	<link rel="stylesheet" href="style.css">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/2.10.2/umd/popper.min.js"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/5.1.3/js/bootstrap.min.js"></script>
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Noto+Serif+KR:wght@200..900&display=swap" rel="stylesheet">
	</head>
<body>
<div class="flex-container">
	<header id="top_header">
        <hgroup id="title">
            <h1> Kim 🩷 Hong </h1>
		</hgroup>	
		<div id="login">
			<button type="button" onclick="location.href='login.html'" class="btn btn-light">Administrator</button>
		</div>	
        <nav>
			<ul id="navi">
				<li><a href="home.html">Home</a>
				</li>
				<li><a href="#">Profile</a>
					<ul>
					<div class="submenu">
					<li><a href="profile1.html">신랑</a></li>
					<li><a href="profile2.html">신부</a></li>
					</div>
				  	</ul>
				</li>
				<li><a href="#">Wedding</a>
					<ul>
					<div class="submenu">
					<li><a href="weddinghall.html">웨딩홀 안내</a></li>
					<li><a href="program_info.html">식순</a></li>
					</div>
					</ul>
				</li>
				<li><a href="story.html">Love Story</a>
				</li>
				<li><a href="gallery.html">Gallery</a>
				</li>
				<li><a href="#">Contact</a>
					<ul>
					<div class="submenu">
					<li><a href="comment.html">축하메시지 남기기</a></li>
					<li><a href="contact.html">연락</a></li>
					</div>
		     		</ul>
				</li>
				
			</ul>
        </nav>
    </header>
	<div class="content">
        <div class="contact" id="groom">
            <div class="contact-img">
                <img src="img/리트리버.jpg">
            </div>
            <div class="contact-info">
                <ul>
                    <li>이름 : 김아무개</li>
                    <li>연락처: 010-1234-5678</li>
                    <li>이메일 : xxxxxxx@roka.ac.kr</li>
                </ul>
            </div>
            <div button type="button" class="btn btn-outline-dark btn-lg" id="gaccount" >계좌 송금하기</button></div>

			<div class="modal" id="myModal" tabindex="-1">
				<div class="modal-dialog modal-dialog-centered">
				  <div class="modal-content">
					<div class="modal-header">
					  <h5 class="modal-title">김아무개 계좌</h5>
					  <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
					</div>
					<div class="modal-body">
					  <p>KB국민: XXXXXX-XX-XXXXXX</p>
					</div>
					<div class="modal-footer">
					  <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
					</div>
				  </div>
				</div>
			  </div>


            <div class="gift-list" id="gift-list">
				<p><hr>선물 예약하기</p>
				<div class="gift-item">
					<img src="img/플스5.png">
					<button type="button" class="btn btn-outline-primary yet">예약하기</button>
					<div id="liveAlertPlaceholder"></div>
				</div>
				<div class="gift-item">
					<img src="img/인덕션.png">
					<button type="button" class="btn btn-outline-primary">예약하기</button>
				</div>
			</div>          
        </div>
        <div class="bride" id="bride">
            <div class="contact-img">
                <img src="img/몰티즈.jpg">
            </div>
            <div class="contact-info">
                <ul>
                    <li>이름 : 홍상희</li>
                    <li>연락처: 010-1234-8765</li>
                    <li>이메일 : xxxxxxx@sookmyung.ac.kr</li>
                </ul>
            </div>
            <div button type="button" class="btn btn-outline-dark btn-lg" id="baccount">계좌 송금하기</button></div>

			<div class="modal" id="myModal" tabindex="-1">
				<div class="modal-dialog modal-dialog-centered">
				  <div class="modal-content">
					<div class="modal-header">
					  <h5 class="modal-title">홍상희 계좌</h5>
					  <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
					</div>
					<div class="modal-body">
					  <p>KB국민: XXXXXX-XX-XXXXXX</p>
					</div>
					<div class="modal-footer">
					  <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
					</div>
				  </div>
				</div>
			  </div>

            <div class="gift-list" id="gift-list">
				<p><hr>선물 예약하기</p>
				<div class="gift-item">
					<img src="img/다이슨.png">
					<button type="button" class="btn btn-outline-primary">예약하기</button>

				</div>
				<div class="gift-item">
					<img src="img/블렌더.png">
					<button type="button" class="btn btn-outline-primary">예약하기</button>
				</div>
			</div>
			
        </div>
	</div>	
	<div class ="footer">
		<nav id="foot">
			<ul>
				<li><a href="#">홍상희</a></li>
				<li><a href="#">숙명여자대학교</a></li>
				<li><a href="#">웹시스템 설계</a></li>
				<li><a href="#"> github</a></li>
			</ul>
		</nav>	
	</div>
</div>
<script>
	document.querySelectorAll('.gift-item .btn').forEach(function(button) {
		button.addEventListener('click', function() {
			if (!button.classList.contains('yet')) {
                    alert('이미 예약된 선물입니다');
                }
			else{
				{
					var reservationCookie = getCookie('reservation');
					if (reservationCookie) {
					alert('이미 예약하셨습니다.');
					return;}				
				}
				var name = prompt('예약하시겠습니까? 예약하시겠다면 이름을 입력해주세요.');
				if (name !== null && name.trim() !== '') {
                alert(name + '님, 예약되었습니다.');
				button.classList.remove('yet');
				var expireDate = new Date();
                expireDate.setTime(expireDate.getTime() + (3 * 60 * 1000));
				document.querySelector('.gift-item .btn').classList.add('yet');
                document.cookie = 'reservation=yes; expires=' + expireDate.toUTCString() + '; path=/';}
				else{
					alert('예약이 취소되었습니다.');
				}
			}
		});
	});

	function getCookie(name) {
    var cookieArr = document.cookie.split('; ');
    for (var i = 0; i < cookieArr.length; i++) {
        var cookiePair = cookieArr[i].split('=');
        if (cookiePair[0] === name) {
            return cookiePair[1];
        }
    }
    return null;}
	
    function showModal() {
      var myModal = new bootstrap.Modal(document.getElementById('myModal'));
      myModal.show();

      var myInput = document.getElementById('myInput');
      document.getElementById('myModal').addEventListener('shown.bs.modal', function () {
        myInput.focus();
      });
    }

    document.getElementById('gaccount').addEventListener('click', showModal);
    document.getElementById('baccount').addEventListener('click', showModal);


</script>

</body>
</html>
